<html>
<head>
  <title>My first Three.js</title>
  <style>
    body{margin:0;}
    canvas{ width:100%; height: 100%;}
    #data{color: white; position: absolute;}
  </style>
</head>
<body>
  <p id="data">
    Vx: <span id="vx"></span><br>
    Vy: <span id="vy"></span><br>
    Vz: <span id="vz"></span><br>
  </p>
  <script src="https://ajax.googleapis.com/ajax/libs/threejs/r69/three.min.js"></script>
  <script>
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( window.innerWidth, window.innerHeight );
      document.body.appendChild( renderer.domElement );

      var geometry = new THREE.BoxGeometry( 1, 0.3, 1 );
      var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
      var cube = new THREE.Mesh( geometry, material );
      scene.add( cube );

      camera.position.z = 5;
      var clock =  new THREE.Clock();

      var controls = {
        z: { pos: false, neg: false },
        y: { pos: false, neg: false },
        x: { pos: false, neg: false },
        yaw: { pos: false, neg: false }
      };
      var velocities = {
        z: 0,
        y: 0,
        x: 0
      };

      var render = function () {
        delta = 4*clock.getDelta();
        requestAnimationFrame( render );

        if(controls.x.neg){
          cube.translateX(-delta);
          velocities.x -= delta
        }if(controls.x.pos){
          cube.translateX(delta);
          velocities.x += delta
        }if(!controls.x.pos && !controls.x.neg){
          velocities.x = 0;
        }if(controls.y.neg){
          cube.translateY(-delta);
          velocities.y -= delta
        }if(controls.y.pos){
          cube.translateY(delta);
          velocities.y += delta
        }if(!controls.y.pos && !controls.y.neg){
          velocities.y = 0;
        }if(controls.z.neg){
          cube.translateZ(-delta);
          velocities.z -= delta
        }if(controls.z.pos){
          cube.translateZ(delta);
          velocities.z += delta
        }if(!controls.z.pos && !controls.z.neg){
          velocities.z = 0;
        }if(controls.yaw.neg){
          cube.rotation.y -= delta;
        }if(controls.yaw.pos){
          cube.rotation.y += delta;
        }

        document.getElementById('vx').innerHTML = velocities.x;
        document.getElementById('vy').innerHTML = velocities.y;
        document.getElementById('vz').innerHTML = velocities.z;

        renderer.render(scene, camera);
      };

      render();

      document.onkeydown = function(evt) {
          console.log(evt.keyCode)
          switch(evt.keyCode){
            case 65: /*A*/ controls.x.neg = true; break;
            case 68: /*D*/ controls.x.pos = true; break;
            case 75: /*K*/ controls.y.neg = true; break;
            case 73: /*I*/ controls.y.pos = true; break;
            case 87: /*W*/ controls.z.neg = true; break;
            case 83: /*S*/ controls.z.pos = true; break;
            case 74: /*J*/ controls.yaw.neg = true; break;
            case 76: /*L*/ controls.yaw.pos = true; break;
          }
      };
      document.onkeyup = function(evt) {
          switch(evt.keyCode){
            case 65: /*A*/ controls.x.neg = false; break;
            case 68: /*D*/ controls.x.pos = false; break;
            case 75: /*K*/ controls.y.neg = false; break;
            case 73: /*I*/ controls.y.pos = false; break;
            case 87: /*W*/ controls.z.neg = false; break;
            case 83: /*S*/ controls.z.pos = false; break;
            case 74: /*J*/ controls.yaw.neg = false; break;
            case 76: /*L*/ controls.yaw.pos = false; break;
          }
      };
    </script>
</body>
</html>
